<%- include('./partials/header') %>

<!-- Main Content -->
<div class="max-w-5xl mx-auto px-4 pt-40 ">

  <div class="grid md:grid-cols-2 gap-10 items-start">
    <div class="w-full max-w-md mx-auto">
      <img src="images/n1.jpg" alt="Crystal necklace" class=" shadow-md w-full h-72 object-cover rounded-tr-3xl rounded-bl-3xl"/>
    </div>
    <div>
      <h1 class="text-3xl font-bold mb-2">Elegant Diamond Necklace</h1>
      <p class="text-xl text-[#948979] font-semibold mb-4">₹2,499</p>
      <p class="mb-4 text-gray-600">Elevate your look with these stunning crystal drop necklace, perfect for any special occasion or everyday elegance.</p>

      <div class="mb-4">
        <h2 class="text-lg font-semibold">Material</h2>
        <p class="text-gray-600">Lab-grown diamonds, sterling silver base, hypoallergenic hooks.</p>
      </div>

      <div class="mb-6">
        <h2 class="text-lg font-semibold">Description</h2>
        <p class="text-gray-600 leading-relaxed">
          Handcrafted with precision, our Crystal Drop necklace combine elegance with ethical craftsmanship. Sparkling crystals catch the light beautifully while remaining feather-light on your ears.
        </p>
      </div>

      <input type="number" id="qtyInput" value="1" min="1" class="w-16 px-2 py-1 border rounded">

        <!-- Button -->
        <button onclick="openCart({
          title: 'Crystal Drop Earrings',
          price: 2499,
          image: '/images/e8.jpg',
          qty: parseInt(document.getElementById('qtyInput').value)
        })" class="bg-[#090040] text-white px-6 py-3 rounded-md hover:bg-[#322b73] transition-all duration-300">
          Add to Cart
        </button>

      <button onclick="openLogin()" class="bg-[#090040] text-white px-6 py-3 rounded-md hover:bg-[#322b73] transition-all duration-300">
        Buy Now
      </button>

    </div>
  </div>
</div>

<!-- Login Modal -->
<div id="loginModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
  <div id="popupBox" class="bg-white w-full max-w-md p-6 rounded-lg shadow-lg transform scale-90 opacity-0 translate-y-10 transition-all duration-300">
    
    <!-- Close Button -->
    <div class="text-right">
      <button onclick="closeLogin()" class="text-xl text-gray-500 hover:text-red-600">&times;</button>
    </div>

    <!-- Toggle Buttons -->
    <div class="flex justify-center gap-4 mb-6">
      <button onclick="showLogin()" id="existingBtn" class="text-sm font-medium text-[#090040] border-b-2 border-[#090040] pb-1">Existing User</button>
      <button onclick="showRegister()" id="newBtn" class="text-sm font-medium text-gray-500 hover:text-[#090040] pb-1">New User</button>
    </div>

    <!-- Existing User Login Form -->
    <form id="loginForm" onsubmit="handleLogin(event)" class="space-y-4">
      <h2 class="text-xl font-bold text-center text-[#090040]">Login</h2>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
        <input type="email" required class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-[#948979]" placeholder="Enter your email">
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
        <input type="password" required class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-[#948979]" placeholder="Enter your password">
      </div>
      <div class="flex items-center justify-between text-sm text-gray-600">
        <label class="flex items-center">
          <input type="checkbox" class="mr-2"> Remember me
        </label>
        <a href="#" class="text-[#948979] hover:underline">Forgot password?</a>
      </div>
      <button type="submit" class="w-full bg-[#090040] text-white py-2 rounded-md hover:bg-[#322b73] transition">Login</button>
    </form>

    <!-- New User Register Form (Hidden by default) -->
    <form id="registerForm" onsubmit="handleRegister(event)" class="space-y-4 hidden">
      <h2 class="text-xl font-bold text-center text-[#090040]">Create Account</h2>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
        <input type="text" required class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-[#948979]" placeholder="Enter your name">
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
        <input type="email" required class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-[#948979]" placeholder="Enter your email">
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
        <input type="password" required class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-[#948979]" placeholder="Create a password">
      </div>
      <button type="submit" class="w-full bg-[#090040] text-white py-2 rounded-md hover:bg-[#322b73] transition">Register</button>
    </form>
  </div>
</div>

<!-- Product Grid Section -->
<main class="pt-[130px] pb-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
  <h2 class="text-2xl font-bold mb-8">Celestora necklace Collection</h2>
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">

    <% const necklace = [
      {img: "images/n1.jpg", name: "Crystal Drop necklace", price: "₹2,499"},
      {img: "images/n2.jpg", name: "Elegant Tops", price: "₹3,199"},
      {img: "images/n3.jpg", name: "Studs", price: "₹1,899"},
      {img: "images/n4.jpg", name: "Gold Hoop necklace", price: "₹4,799"},
      {img: "images/n5.jpg", name: "Chandelier necklace", price: "₹3,999"},
      {img: "images/n6.jpg", name: "Modern Danglers", price: "₹2,299"},
      {img: "images/n7.jpg", name: "Rose Gold Studs", price: "₹2,999"},
      {img: "images/n8.jpg", name: "Mini Pearl Drops", price: "₹1,499"},
    ]; %>

    <% necklace.forEach(e => { %>
      <a href="/necklace-detail">
        <div class="bg-white  shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300">
          <img src="<%= e.img %>" alt="necklace" class="w-full h-60 object-cover rounded-tr-3xl rounded-bl-3xl">
          <div class="p-4">
            <h3 class="text-lg font-semibold"><%= e.name %></h3>
            <p class="text-[#948979] font-medium"><%= e.price %></p>
          </div>
        </div>
      </a>
    <% }) %>

  </div>
</main>

<script>
  function openLogin() {
    document.getElementById("loginModal").classList.remove("hidden");
    setTimeout(() => {
      document.getElementById("popupBox").classList.add("opacity-100", "scale-100", "-translate-y-0");
      document.getElementById("popupBox").classList.remove("opacity-0", "scale-90", "translate-y-10");
    }, 50);
  }
  function closeLogin() {
    document.getElementById("loginModal").classList.add("hidden");
  }
  function showLogin() {
    document.getElementById("loginForm").classList.remove("hidden");
    document.getElementById("registerForm").classList.add("hidden");
  }
  function showRegister() {
    document.getElementById("loginForm").classList.add("hidden");
    document.getElementById("registerForm").classList.remove("hidden");
  }
  function handleLogin(e) {
    e.preventDefault();
    alert("Logged in!");
    closeLogin();
  }
  function handleRegister(e) {
    e.preventDefault();
    alert("Account created!");
    closeLogin();
  }
</script>

<%- include('./partials/footer') %>
